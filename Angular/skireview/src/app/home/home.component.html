

<div  *ngIf="!selectedMTN">
  <video  id="vid1" autoplay loop>
    <source src="assets/homeVid.mp4" />
  </video>
</div>

<div>
  <h1>SLOPE SPOT</h1>
</div>



<!-- SELECT MOUNTAIN HOME -->
<div *ngIf="!selectedMTN" id="selectMTNHome">
<h3>Select Mountain:</h3>
<div class="form-group">
  <select class="form-control" name="mountain" [(ngModel)]="mtnId">
    <option *ngFor="let mountain of mountains" value="{{mountain.id}}">{{
      mountain.name
    }}</option>
  </select>
  <input type="submit" (click)="selectMountain(mtnId)" value="submit" />
</div>
</div>
<!-- SELECT MOUNTAIN NO VID-->
<div class="container" *ngIf="selectedMTN" id="selectMTN">
    <h3>Select Mountain:</h3>
    <div class="form-group">
      <select class="form-control" name="mountain" [(ngModel)]="mtnId">
        <option *ngFor="let mountain of mountains" value="{{mountain.id}}">{{
          mountain.name
        }}</option>
      </select>
      <input type="submit" (click)="selectMountain(mtnId)" value="submit" />

    </div>
    </div>

<!-- MOUNTAIN REPORTS -->
<div *ngIf="!selectedMTN">
  <div id="recentReports" class="row"> <!-- ROW -->
    <h1>Recent Reports</h1>

    <table class="table table-striped table-hover">
      <thead class="thead-dark">
        <tr>
          <th>Username</th>
          <th>Mountain</th>
          <th>Trail</th>
          <th>Report text</th>
          <th>Rating</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let report of reports">
          <td>{{ report.user.username }}</td>
          <!-- IF -->
          <td *ngIf="report.mountain; else: noMTN">
            {{ report.mountain.name }}
          </td>
          <!-- ELSE -->
          <ng-template #noMTN> <td></td> </ng-template>
          <!-- IF -->
          <td *ngIf="report.trail; else: noTrail">{{ report.trail.name }}</td>
          <!-- ELSE -->
          <ng-template #noTrail> <td></td> </ng-template>

          <td>{{ report.reportText }}</td>
          <td>{{ report.rating }}</td>
          <td>{{ report.dateCreated}}</td>
        </tr>
      </tbody>
    </table>
  </div> <!-- ROW -->
</div>



<!-- SELCTED MOUNTAIN -->

<div *ngIf="selectedMTN" class="row"> <!-- ROW -->


  <div class="embed-responsive" style="padding-bottom: 60%">
    <div *ngIf="selectedMTN.id === 1; else: vail">
      <object
        data="assets/Maps/abasin.pdf"
        type="application/pdf"
        width="100%"
        height="100%"
      ></object>
    </div>
    <ng-template #vail>
      <object
        data="assets/Maps/vail.pdf"
        type="application/pdf"
        width="100%"
        height="100%"
      ></object>
    </ng-template>
  </div>
</div>
<!-- ROW -->

<div id="sortBy" class="form-group" *ngIf="selectedMTN" class="row">
  <!-- ROW -->
  <select class="form-control" name="sortby" [(ngModel)]="searchBy">
    <option value="Name">Name</option>
    <option value="Features">Feature</option>
    <option value="Difficulty">Difficulty</option>
  </select>
  <input type="submit" (click)="sortTrailByName(searchBy)" value="Sort By" />
</div>
<!-- ROW -->

<div class="container">
  <!-- CON -->
  <div class="row" *ngIf="selectedMTN">
    <!-- ROW -->

    <div class="col">
      <!-- COL -->

      <h1 *ngIf="selectedMTN">Mountain Trails</h1>

      <table class="table table-striped table-hover">
        <thead class="thead-dark">
          <tr>
            <th>
              Name
              <span (click)="reverseNameList()" *ngIf="reverse === 1">&#9650;</span>
              <span (click)="reverseNameList()" *ngIf="reverse === 0"> &#9660; </span>
            </th>

            <th>Difficulty
                <span (click)="reverseDiffList()" *ngIf="reverse1 === 1">&#9650;</span>
                <span (click)="reverseDiffList()" *ngIf="reverse1 === 0"> &#9660; </span>
            </th>
            <!-- <th>Length</th>
            <th>Elevation Gain/Loss</th> -->
            <th> Features
              <span (click)="reverseFeatList()" *ngIf="reverse2 === 1">&#9650;</span>
              <span (click)="reverseFeatList()" *ngIf="reverse2 === 0"> &#9660; </span>
            </th>

          </tr>
        </thead>
        <tr *ngFor="let trail of sortedTrails">
          <td (click)="selectedTrail(trail.id)">{{ trail.name }}</td>
          <td>{{ trail.difficulty }}</td>
          <!-- IF -->
           <!-- <td *ngIf="trail.length; else: length">{{ trail.length }}</td> -->
         <!--  ELSE -->
           <!-- <ng-template #length> <td></td> </ng-template>  -->
          <!-- IF -->
          <!-- <td *ngIf="trail.elevationGainLoss; else: gainLoss"> -->
            <!-- {{ trail.elevationGainLoss }} -->
          <!-- </td> -->
          <!--  ELSE -->
          <!-- <ng-template #gainLoss> <td></td> </ng-template> -->

          <td>{{ trail.features }}</td>

        </tr>
      </table>
    </div>
    <!-- COL -->

    <div class="col">
      <!-- COL -->
      <h1>Mountain Reports</h1>
      <table class="table table-striped table-hover">
        <thead class="thead-dark">
          <tr>
            <th>Username</th>
            <th>Report text</th>
            <th>Rating</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let report of mReports">
            <td>{{ report.user.username }}</td>

            <td>{{ report.reportText }}</td>
            <td>{{ report.rating }}</td>
          </tr>
        </tbody>
      </table>

      <button type="button" (click)="reportToNotNUll()">Add Report</button>
      <form *ngIf="newReport">
          <textarea rows="4" cols="50" name="report" form="report" placeholder="Is the gnar on par today?" [(ngModel)]="newReport.reportText"></textarea><br>
      <button (click)="createReportOnMTN()">Submit</button>
      </form>
    </div>
    <!-- COL -->
  </div>
  <!-- ROW -->
</div>
<!-- CON -->
